 const {Telegraf, Markup} = require('telegraf')

const BOT_TOKEN = '2081667950:AAE6oT9LcLDkl7Q4xcJpbv2-q4TIZt5Z8oA';

const bot = new Telegraf(BOT_TOKEN)

//.toISOString()

// const Markup2 = require('telegraf/markup');
// console.log(Markup);
// console.log(Markup2); 
//‚úã‚úã‚úã

bot.start(
    (ctx) => 
        ctx.reply(`Hello  ${ctx.message.from.first_name}`, 
        Markup.keyboard([ 
            ['/fact' , '/time'],
            ['/schedule', '/information']
        ]).resize()
));

function randomFact() {
    const facts = ['–°–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è –∂–µ–º—á—É–∂–∏–Ω–∞ –≤ –º–∏—Ä–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 6 –∫–∏–ª–æ–≥—Ä–∞–º–º–æ–≤ –≤ –≤–µ—Å–µ','–ó–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –°–®–ê –¥–æ–ø—É—Å–∫–∞–ª–æ –æ—Ç–ø—Ä–∞–≤–∫—É –¥–µ—Ç–µ–π –ø–æ –ø–æ—á—Ç–µ –¥–æ 1913 –≥–æ–¥–∞',
'–í —è–∑—ã–∫–µ –¥—Ä–µ–≤–Ω–∏—Ö –≥—Ä–µ–∫–æ–≤ –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–æ —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä–æ–µ –æ–±–æ–∑–Ω–∞—á–∞–ª–æ —Ä–µ–ª–∏–≥–∏—é','–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏, –∫–æ–≥–¥–∞ –Ω–∞ —Å—á–µ—Ç–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏ ¬´Apple¬ª, –±—ã–ª–æ –±–æ–ª—å—à–µ —Å—Ä–µ–¥—Å—Ç–≤, —á–µ–º —É –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–≥–æ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞',
'–°—Ä–µ–¥–Ω–µ–µ –æ–±–ª–∞–∫–æ –≤–µ—Å–∏—Ç –ø–æ—Ä—è–¥–∫–∞ 500 —Ç–æ–Ω–Ω, —Å—Ç–æ–ª—å–∫–æ –∂–µ –≤–µ—Å—è—Ç 80 —Å–ª–æ–Ω–æ–≤','–í –ò—Ä–ª–∞–Ω–¥–∏–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–æ –∫—Ä–æ—Ç–æ–≤','–§–ª–æ—Ç –°–®–ê —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª—å—à–µ –∞–≤–∏–∞–Ω–æ—Å—Ü–µ–≤, —á–µ–º –≤—Å–µ —Ñ–ª–æ—Ç—ã –º–∏—Ä–∞ –≤–º–µ—Å—Ç–µ –≤–∑—è—Ç—ã–µ',
'–°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ª–∞–≤—ã –ø–æ—Å–ª–µ –∏–∑–≤–µ—Ä–∂–µ–Ω–∏—è, –±–ª–∏–∑–∫–∞ –∫ —Å–∫–æ—Ä–æ—Å—Ç–∏ –±–µ–≥–∞ –≥–æ–Ω—á–µ–π','–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ, –æ—Ç–≤–µ—Ä—Ç–∫–∞ –±—ã–ª–∞ –∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∞ –¥–ª—è –≤—ã–∫–æ–≤—ã—Ä–∏–≤–∞–Ω–∏—è –≥–≤–æ–∑–¥–µ–π, —à—É—Ä—É–ø –±—ã–ª –∏–∑–æ–±—Ä–µ—Ç–µ–Ω –Ω–∞ 100 –ª–µ—Ç –ø–æ–∑–∂–µ',
'–ë–∏–±–ª–∏—è ‚Äì –∫–Ω–∏–≥–∞, –∫–æ—Ç–æ—Ä—É—é —á–∞—â–µ –≤—Å–µ–≥–æ –≤–æ—Ä—É—é—Ç –≤ –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö','–ü—Ä–∏–º–µ—Ä–Ω–æ 1/3 –≤—Å–µ–π —Å–æ–ª–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ–π –≤ –°–®–ê, —Ä–∞—Å—Ö–æ–¥—É–µ—Ç—Å—è –Ω–∞ –æ—á–∏—Å—Ç–∫—É –¥–æ—Ä–æ–≥ –æ—Ç–æ –ª—å–¥–∞',
'–°—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–±–∏—Ä–∫–∞, –¥–∏–∞–º–µ—Ç—Ä –∫–æ—Ç–æ—Ä–æ–π, –≤ 10000 —Ä–∞–∑ –º–µ–Ω—å—à–µ –¥–∏–∞–º–µ—Ç—Ä–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –≤–æ–ª–æ—Å–∞','–°–∞—É–¥–æ–≤—Å–∫–∞—è –ê—Ä–∞–≤–∏—è –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∫','–í –ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∫–∞ ‚Äì –û–Ω–∏–∫—Å, –æ–Ω–∞ —Ç–µ—á–µ—Ç –≤—Å–µ–≥–æ 60 –¥–Ω–µ–π –≤ –≥–æ–¥—É',
'–£ –º–µ–¥—É–∑ –Ω–µ—Ç –º–æ–∑–≥–æ–≤ –∏ –∫—Ä–æ–≤–µ–Ω–æ—Å–Ω—ã—Ö —Å–æ—Å—É–¥–æ–≤','–ï–∂–µ–¥–Ω–µ–≤–Ω–æ 60 —á–µ–ª–æ–≤–µ–∫ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –º–∏–ª–ª–∏–æ–Ω–µ—Ä–∞–º–∏','–î–æ 17 –≤–µ–∫–∞ —Ç–µ—Ä–º–æ–º–µ—Ç—Ä—ã –∑–∞–ø–æ–ª–Ω—è–ª–∏ –∫–æ–Ω—å—è–∫–æ–º','–ö–æ—à–∫–∏ —Å–ø—è—Ç –±–æ–ª—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏',
'–õ–∏–º–æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª—å—à–µ —Å–∞—Ö–∞—Ä–∞, —á–µ–º –∫–ª—É–±–Ω–∏–∫–∞','–°–∞–º—ã–π –¥–æ–ª–≥–∏–π –ø–æ–ª—ë—Ç –∫—É—Ä–∏—Ü—ã –ø—Ä–æ–¥–æ–ª–∂–∞–ª—Å—è 13 —Å–µ–∫—É–Ω–¥','–õ–∞–¥–æ–∂—Å–∫–æ–µ –æ–∑–µ—Ä–æ —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –±–æ–ª—å—à–∏–º –≤ –ï–≤—Ä–æ–ø–µ',
'–ó–∞ –≥–æ–¥ –Ω–∞ –ó–µ–º–ª—é –ø–∞–¥–∞–µ—Ç –¥–æ 500 –∫–≥ –º–∞—Ä—Å–∏–∞–Ω—Å–∫–æ–≥–æ –º–µ—Ç–µ–æ—Ä–∏—Ç–∞','–ó–µ–º–ª—è –¥–µ–ª–∞–µ—Ç –ø–æ–ª–Ω—ã–π –æ–±–æ—Ä–æ—Ç –≤–æ–∫—Ä—É–≥ —Å–≤–æ–µ–π –æ—Å–∏ –∑–∞ 23 —á–∞—Å–∞ 56 –º–∏–Ω—É—Ç –∏ 4 —Å–µ–∫—É–Ω–¥—ã',
'–ù–∞ –Æ–ø–∏—Ç–µ—Ä–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –∏–¥—É—Ç –∞–ª–º–∞–∑–Ω—ã–µ –¥–æ–∂–¥–∏','–í–æ –≤—Å–µ–ª–µ–Ω–Ω–æ–π –±–æ–ª—å—à–µ –∑–≤—ë–∑–¥, —á–µ–º –ø–µ—Å—á–∏–Ω–æ–∫ –Ω–∞ –≤—Å–µ—Ö –ø–ª—è–∂–∞—Ö –ó–µ–º–ª–∏','–í –º–∏—Ä–µ –≤—Å–µ–≥–æ 7% –ª–µ–≤—à–µ–π',
'–ü—Ä–∞–≤–æ–µ –ª—ë–≥–∫–æ–µ —á–µ–ª–æ–≤–µ–∫–∞ –≤–º–µ—â–∞–µ—Ç –±–æ–ª—å—à–µ –≤–æ–∑–¥—É—Ö–∞, —á–µ–º –ª–µ–≤–æ–µ','–°–∞–º–∞—è —Ç—Ä—É–¥–Ω–æ –∏–∑–ª–µ—á–∏–º–∞—è —Ñ–æ–±–∏—è ‚Äì –±–æ—è–∑–Ω—å —Å—Ç—Ä–∞—Ö–∞','–ê–ª–º–∞–∑—ã –º–æ–≥—É—Ç –≥–æ—Ä–µ—Ç—å',
'–ö–æ—Ä–æ–≤–∞ –º–æ–∂–µ—Ç –ø–æ–¥–Ω—è—Ç—å—Å—è –ø–æ –ª–µ—Å—Ç–Ω–∏—Ü–µ, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç —Å–ø—É—Å—Ç–∏—Ç—å—Å—è','–£—Ç–∫–∏ —Å–ø–æ—Å–æ–±–Ω—ã –Ω—ã—Ä—è—Ç—å –Ω–∞ –≥–ª—É–±–∏–Ω—É –¥–æ 6 –º–µ—Ç—Ä–æ–≤','–ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫ —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –ø–æ–ø—É–ª—è—Ä–Ω—ã–º –≤ –º–∏—Ä–µ',
'–£ –∂–∏—Ä–∞—Ñ–∞ –∏ —á–µ–ª–æ–≤–µ–∫–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–µ–π–Ω—ã—Ö –ø–æ–∑–≤–æ–Ω–∫–æ–≤','–°–∞–º–æ–µ –≤—ã—Å–æ–∫–æ–µ –∑–¥–∞–Ω–∏–µ –≤ –ï–≤—Ä–æ–ø–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ú–æ—Å–∫–≤–µ','–°—Ç—Ä–∞—É—Å—ã —Ä–∞–∑–≤–∏–≤–∞—é—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ 70 –∫–º –≤ —á–∞—Å']
    return facts[Math.floor(Math.random() * facts.length)]
}

bot.command('fact', (ctx) => {
    const fact = randomFact()
    ctx.reply(fact)
})
bot.command('time', (ctx) => {
    function showDateName(data) {
        switch (data) {
            case 0:
                return '–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ'
                break;
                case 1:
                return '–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫'
                break;
                case 2:
                return '–≤—Ç–æ—Ä–Ω–∏–∫'
                break;
                case 3:
                return '—Å—Ä–µ–¥–∞'
                break;
                case 4:
                return '—á–µ—Ç–≤–µ—Ä–≥'
                break;
                case 5:
                return '–ø—è—Ç–Ω–∏—Ü–∞'
                break;
                case 6:
                return '—Å—É–±–±–æ—Ç–∞'
                break;
        }
    }
    let date = new Date()
    let today = date.getDay()
    ctx.reply(
        `
        –°–µ–≥–æ–¥–Ω—è: ${Intl.DateTimeFormat('ru-RU',).format(date)} (${showDateName(today)}) 
         
        –°–µ–π—á–∞—Å: ${date.getHours()} —á–∞—Å–æ–≤ , ${date.getMinutes()} –º–∏–Ω—É—Ç , ${date.getSeconds()} —Å–µ–∫—É–Ω–¥
        `)
})
///${date.getMonth()} 
// bot.on('text', (ctx) => {
//     ctx.reply("üëç")
// })

bot.command('schedule', (ctx) => {
    const weekSchedule = [
    {
       dateName: 1,
       lessons: [
           {name: '–•–∏–º–∏—è', teacher: '–ù–∞—Ç–∞–ª—å—è –í–∞–ª–µ–Ω—Ç–∏–Ω–æ–≤–Ω–∞', auditory: 304 , which: 1},
           {name: '–ö—ã—Ä–≥—ã–∑—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', teacher: '–ê–Ω–∞—Ä–∞ –ê–±–¥—É—Ä–æ—Å—É–ª–æ–≤–Ω–∞', auditory: 406 , which: 2},
           {name: '–ê–ª–≥–µ–±—Ä–∞', teacher: '–ò–Ω–Ω–∞ –ê—Ñ–∞–Ω–∞—Å—å–µ–≤–Ω–∞', auditory: 412, which: 3},
           {name: '–ò—Å—Ç–æ—Ä–∏—è', teacher: '–ö—É–±–∞—Ç–±–µ–∫ –°–∞–ø–∞—Ä–±–∞–µ–≤–∏—á', auditory: 303, which: 4},
           {name: '–ê–ª–≥–µ–±—Ä–∞', teacher: '–ò–Ω–Ω–∞ –ê—Ñ–∞–Ω–∞—Å—å–µ–≤–Ω–∞', auditory: 412, which: 5},
           {name: '–ß–ò–û', teacher: '–î–∞–º–∏—Ä–∞ –ê–Ω–∞—Ä–±–µ–∫–æ–≤–Ω–∞', auditory: 406, which: 6},
           {name: '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', teacher: '–í–ª–∞–¥–∏–º–∏—Ä –ù–∏–∫–æ–ª–∞–µ–≤–∏—á', auditory: 409, which: 7},
       ]
   },
   {
    dateName: 2,
    lessons: [
        {name: '–ì–µ–æ–º–µ—Ç—Ä–∏—è', teacher: '–ò–Ω–Ω–∞ –ê—Ñ–∞–Ω–∞—Å—å–µ–≤–Ω–∞', auditory: 412},
        {name: '–ì–µ–æ–º–µ—Ç—Ä–∏—è', teacher: '–ò–Ω–Ω–∞ –ê—Ñ–∞–Ω–∞—Å—å–µ–≤–Ω–∞', auditory: 412},
        {name: '–†—É—Å—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', teacher: '–û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞', auditory: 302},
        {name: '–ö—ã—Ä–≥—ã–∑—Å–∫–∏–π —è–∑—ã–∫', teacher: '–ê–π–Ω—É—Ä–∞ –¢—É—Ä–∞—Ç–±–µ–∫–æ–≤–Ω–∞', auditory: 130},
        {name: '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', teacher: '–ó–∞–º–∏—Ä–∞ –¢–æ–∫—Ç–æ–≥—É–ª–æ–≤–Ω–∞', auditory: 216},
        {name: '–ë–∏–æ–ª–æ–≥–∏—è', teacher: '–≠–ª—å–≤–∏—Ä–∞ –ù–∞—Ä–∏–º–∞–Ω–æ–≤–Ω–∞', auditory: 101},
        {name: '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', teacher: '–†–æ–º–∞–Ω –í–∞–ª–µ—Ä—å–µ–≤–∏—á', auditory: 0},
    ]
    },
{
    dateName: 3,
    lessons: [
        {name: '–§–∏–∑–∏–∫–∞', teacher: '–ï–ª–µ–Ω–∞ –°—Ç–∞–Ω–∏—Å–ª–∞–≤–æ–≤–Ω–∞', auditory: 404},
        {name: '–§–∏–∑–∏–∫–∞', teacher: '–ï–ª–µ–Ω–∞ –°—Ç–∞–Ω–∏—Å–ª–∞–≤–æ–≤–Ω–∞', auditory: 404},
        {name: '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', teacher: '–û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞', auditory: 302},
        {name: '–†—É—Å—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', teacher: '–û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞', auditory: 302},
        {name: '–ê–ª–≥–µ–±—Ä–∞', teacher: '–ò–Ω–Ω–∞ –ê—Ñ–∞–Ω–∞—Å—å–µ–≤–Ω–∞', auditory: 412},
        {name: '–ê–ª–≥–µ–±—Ä–∞', teacher: '–ò–Ω–Ω–∞ –ê—Ñ–∞–Ω–∞—Å—å–µ–≤–Ω–∞', auditory: 412},
    ]
    },
    {
    dateName: 4,
    lessons: [
        {name: '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', teacher: '–û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞', auditory: 302},
    ]
   },
   {
    dateName: 5,
    lessons: [
        {name: 'Math', teacher: 'Saliev', auditory: 230},
        {name: 'Biology', teacher: 'Mamedov', auditory: 301},
        {name: 'History', teacher: 'Ramatov', auditory: 130},
    ]
   },
   {
       dateName: 6,
       lessons: [
           {name: 'Language', teacher: 'Tony', auditory: 230},
           {name: 'Dance', teacher: 'Parker', auditory: 301},
           {name: 'Psychology', teacher: 'Peter', auditory: 130},
       ]
   }
]
 try { for (let day of weekSchedule) {
    let date = new Date()
    if (day.dateName === date.getDay()) {
        return day.lessons.map ((i) => 
        ctx.reply(`–ü—Ä–µ–¥–º–µ—Ç: ${i.name}, —É—á–∏—Ç–µ–ª—å: ${i.teacher}, –≤ –∫–∞–±–∏–Ω–µ—Ç–µ ${i.auditory}`)
    
        )
    } else {}
}
} catch {ctx.reply(`${ctx.message.from.first_name} , —Å–µ–≥–æ–¥–Ω—è –Ω–µ—Ç —É—Ä–æ–∫–æ–≤ ! –û—Ç–¥—ã—Ö–∞–π `)}
}
)
bot.command('information', (ctx) => {
  ctx.reply(`–ò–º—è:  ${ctx.message.from.first_name}
   Id: ${ctx.message.from.id}
   smth: ${ctx.message.text}
    `)
 })
bot.on('text', (ctx) => {
    ctx.reply("üëç")
})

bot.launch().then(() => console.log('–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω')) 